import"../chunks/DsnmJJEf.js";import"../chunks/CoK_SLJF.js";import{o as E,a as G}from"../chunks/aezIht8K.js";import{p as H,f as L,s as v,b as W,c as S,t as X,a as Y,d as j,g as h,m as F,e as C,r as M}from"../chunks/eeOlU5BQ.js";import{d as J}from"../chunks/CVewWtJb.js";import{s as P}from"../chunks/D9mzevzS.js";import{i as K}from"../chunks/DC1grYM6.js";var N=L(`<h2 class="text-4xl text-primary-text">Conway's Game of Life</h2> <div class="flex flex-col gap-4 mt-8 md:flex-row"><div class="flex flex-row gap-2 w-full md:w-32 md:flex-col"><button aria-label="Start">Start</button> <button aria-label="Pause">Pause</button></div> <canvas id="canvas" class="w-full max-w-xl aspect-square"></canvas></div>`,1);function at(y,R){H(R,!1);let s,o,i=F(null),d,r=[],n=[];const l=8,T=()=>{s=document.getElementById("canvas"),s.width=Math.floor(s.offsetWidth/l)*l,s.height=Math.floor(s.offsetHeight/l)*l,o=s.getContext("2d"),o.fillStyle="#646cff29",o.fillRect(0,0,s.width,s.height)},A=()=>{o.strokeStyle="#000000";for(let e=0;e<=s.width;e+=l)o.beginPath(),o.moveTo(e,0),o.lineTo(e,s.height),o.stroke();for(let e=0;e<=s.height;e+=l)o.beginPath(),o.moveTo(0,e),o.lineTo(s.width,e),o.stroke()},g=()=>{o.clearRect(0,0,s.width,s.height),A(),n=z()},x=(e,t)=>{o.clearRect(e*l+1,t*l+1,l-1,l-1);const a=r[t][e]?"#dfdfd6":"#646cff29";o.fillStyle=a,o.fillRect(e*l+1,t*l+1,l-1,l-1)},I=(e,t)=>[[e-1,t-1],[e,t-1],[e+1,t-1],[e-1,t],[e+1,t],[e-1,t+1],[e,t+1],[e+1,t+1]].filter(([a,c])=>n.some(([f,p])=>f===a&&p===c)).length,z=()=>{let e=[];for(let t=0;t<r.length;t+=1)for(let a=0;a<r[t].length;a+=1){const c=I(a,t),f=n.some(([p,D])=>p===a&&D===t)?[2,3]:[3];r[t][a]=f.includes(c),r[t][a]&&e.push([a,t]),x(a,t)}return e},$=e=>{const t=Math.floor(e.offsetX/l),a=Math.floor(e.offsetY/l);t<0||t>=d||a<0||a>=d||(n.some(([c,f])=>c===t&&f===a)?n=n.filter(([c,f])=>!(c===t&&f===a)):n.push([t,a]),r[a][t]=!r[a][t],x(t,a))},q=()=>{h(i)||C(i,setInterval(()=>{g()},300))},w=()=>{h(i)&&(clearInterval(h(i)),C(i,null))};E(()=>{T(),d=s.width/l,r=new Array(d).fill([]).map(()=>new Array(d).fill(!1)),g()}),G(()=>{w()}),K();var b=N(),k=v(W(b),2),m=S(k),u=S(m);u.__click=q;var _=v(u,2);_.__click=w,M(m);var B=v(m,2);B.__click=$,M(k),X(()=>{P(u,1,`bg-secondary min-w-16 p-2 cursor-pointer rounded-lg ${h(i)?"text-link-active-text":"text-link-text"}`),P(_,1,`bg-secondary min-w-16 p-2 cursor-pointer rounded-lg ${h(i)?"text-link-text":"text-link-active-text"}`)}),Y(y,b),j()}J(["click"]);export{at as component};
